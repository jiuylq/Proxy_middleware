(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_info-userinfo-perfect_userinfo_next"],{"12be":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */.perfect-userinfo[data-v-280aa86c]{padding:%?40?%}.perfect-userinfo .card[data-v-280aa86c]{padding:%?30?%;background:#fff;border-radius:%?20?%;margin-bottom:%?20?%}.perfect-userinfo .tag-card[data-v-280aa86c]{padding-right:0}.perfect-userinfo .tag-card .tag-list[data-v-280aa86c]{display:flex;flex-wrap:wrap}.perfect-userinfo .tag-card .tag-list .tag-item[data-v-280aa86c]{font-size:%?24?%;text-align:center;min-width:%?106?%;padding:0 %?16?%;height:%?50?%;line-height:%?50?%;border-radius:%?6?%;border:1px solid #efefef;margin-right:%?20?%}.perfect-userinfo .tag-card .tag-list .tag-item-select[data-v-280aa86c]{color:#11e69e;border-color:#11e69e}',""]),e.exports=t},"12f3":function(e,t,a){"use strict";var r=a("b7c0c"),n=a.n(r);n.a},"36cd":function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getApicardEnable=t.queryOrderInfo=t.getThirdSetting=t.thirdLogin=t.createApiThirdRecharge=t.getApiCardUnbind=t.getApiCardLoss=t.getApiCancelLogoutRecord=t.getApiAddLogoutRecord=t.getApiLogoutRecord=t.apiGetUserInfoList=t.getApiUserSwitchFacepay=t.getApiUploadUserFace=t.getApiUploadFileGetOssToken=t.getApiUserWalletList=t.apiReservationGetOrderPay=t.apiGetPayMethodList=t.getApiGenerateEaccountCode=t.apiGetCanteenList=t.apiReservationOrderCreate=t.apiProjectList=t.apiMonthReservationOrderDetailInfo=t.apiMonthReservationOrder=t.apiGetWechatUserInfo=t.apiGetReservationStallFood=t.apiGenerateEaccountCode=t.apiCreateCardInfo=t.apiCollectionReservationOrder=t.apiCardUserOrWechatUserInfoSave=t.apiBindProjectPoint=t.apiQueryUserinfo=t.getApiRechargeOrderQuery=t.getApiRechargeOrderCreate=t.getApiRechargeGetSettings=t.getApiRechargeWalletList=void 0;var n=r(a("3c62")),o=function(e){return n.default.post("/booking/recharge/wallet_list",e)};t.getApiRechargeWalletList=o;var i=function(e){return n.default.post("/booking/recharge/get_settings",e)};t.getApiRechargeGetSettings=i;var s=function(e){return n.default.post("/booking/recharge/order_create",e)};t.getApiRechargeOrderCreate=s;var u=function(e){return n.default.post("/booking/recharge/order_query",e)};t.getApiRechargeOrderQuery=u;var c=function(e){return n.default.post("/booking/login/query_userinfo",e)};t.apiQueryUserinfo=c;var d=function(e){return n.default.post("/booking/user/bind_project_point",e)};t.apiBindProjectPoint=d;var f=function(e){return n.default.post("/booking/user/card_user_or_wechat_user_info_save",e)};t.apiCardUserOrWechatUserInfoSave=f;var g=function(e){return n.default.post("/booking/reservation/collection_reservation_order",e)};t.apiCollectionReservationOrder=g;var l=function(e){return n.default.post("/booking/user/create_card_info",e)};t.apiCreateCardInfo=l;var p=function(e){return n.default.post("/booking/user/generate_eaccount_code",e)};t.apiGenerateEaccountCode=p;var v=function(e){return n.default.post("/booking/reservation/get_reservation_stall_food",e)};t.apiGetReservationStallFood=v;var _=function(e){return n.default.post("/booking/user/get_wechat_user_info",e)};t.apiGetWechatUserInfo=_;var h=function(e){return n.default.post("/booking/reservation/month_reservation_order",e)};t.apiMonthReservationOrder=h;var b=function(e){return n.default.post("/booking/reservation/month_reservation_order_detail_info",e)};t.apiMonthReservationOrderDetailInfo=b;var m=function(e){return n.default.post("/booking/user/project_list",e)};t.apiProjectList=m;var k=function(e){return n.default.post("/booking/reservation/reservation_order_create",e)};t.apiReservationOrderCreate=k;var y=function(e){return n.default.post("/booking/user/get_canteen_list",e)};t.apiGetCanteenList=y;var C=function(e){return n.default.post("/booking/user/generate_eaccount_code",e)};t.getApiGenerateEaccountCode=C;var A=function(e){return n.default.post("/booking/user/get_pay_method_list",e)};t.apiGetPayMethodList=A;var R=function(e){return n.default.post("/booking/reservation/reservation_order_pay",e)};t.apiReservationGetOrderPay=R;var w=function(e){return n.default.post("/booking/user/get_user_wallet_list",e)};t.getApiUserWalletList=w;var U=function(e){return n.default.post("/booking/upload_file/get_oss_token",e)};t.getApiUploadFileGetOssToken=U;var L=function(e){return n.default.post("/booking/user/upload_user_face",e)};t.getApiUploadUserFace=L;var O=function(e){return n.default.post("/booking/user/switch_facepay",e)};t.getApiUserSwitchFacepay=O;var T=function(e){return n.default.post("/booking/user/get_user_info_list",e)};t.apiGetUserInfoList=T;var x=function(e){return n.default.post("/booking/user/logout_record",e)};t.getApiLogoutRecord=x;var S=function(e){return n.default.post("/booking/user/add_logout_record",e)};t.getApiAddLogoutRecord=S;var G=function(e){return n.default.post("/booking/user/cancel_logout_record",e)};t.getApiCancelLogoutRecord=G;var E=function(e){return n.default.post("/booking/user/card_loss",e)};t.getApiCardLoss=E;var I=function(e){return n.default.post("/booking/user/card_unbind",e)};t.getApiCardUnbind=I;var M=function(e){return n.default.post("/booking/user_order/order_create",e)};t.createApiThirdRecharge=M;var P=function(e){return n.default.post("/booking/user_order/h5_login_verify",e)};t.thirdLogin=P;var $=function(e){return n.default.post("/booking/user_order/get_settings",e)};t.getThirdSetting=$;var F=function(e){return n.default.post("/booking/user_order/get_order_info",e)};t.queryOrderInfo=F;var j=function(e){return n.default.post("/booking/user/card_enable",e)};t.getApicardEnable=j},"448b":function(e,t,a){"use strict";var r=a("4ea4");a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a("d558");var n=r(a("da0c")),o=a("36cd"),i={data:function(){return{showPicker:!1,formData:{yearMonth:"",company_id:"",person_no:""},tabooTags:[{name:"花生酱",status:0},{name:"香菜",status:0},{name:"葱",status:0},{name:"海鲜",status:0},{name:"黄豆",status:0},{name:"豆腐",status:0},{name:"牛肉",status:0},{name:"芝麻油",status:0},{name:"蘑菇",status:0},{name:"洋葱",status:0},{name:"香芋",status:0}],loveTags:[{name:"海产",status:0},{name:"粉面",status:0},{name:"菌类",status:0},{name:"娃娃菜",status:0},{name:"油麦菜",status:0},{name:"菠菜",status:0},{name:"豆类",status:0},{name:"米饭",status:0},{name:"萝卜",status:0},{name:"羊肉",status:0},{name:"没有喜欢的",status:0}],diet_taboos:[],diet_preference:[]}},methods:{changeTabooTag:function(e){1==this.tabooTags[e].status?this.tabooTags[e].status=0:this.tabooTags[e].status=1},changeLoveTags:function(e){1==this.loveTags[e].status?this.loveTags[e].status=0:this.loveTags[e].status=1},handleNext:function(e){console.log(e),e?this.cardUserOrWechatUserInfoSave():(n.default.remove("projectCardUserList"),this.$miRouter.replaceAll({path:"/pages/index/index"}))},cardUserOrWechatUserInfoSave:function(){var e=this;this.diet_taboos=this.tabooTags.map((function(e){if(e.status)return e.name})),this.diet_preference=this.loveTags.map((function(e){if(e.status)return e.name})),(0,o.apiCardUserOrWechatUserInfoSave)({company_id:this.formData.company_id,person_no:this.formData.person_no,extra_tags:{diet_taboos:this.diet_taboos,diet_preference:this.diet_preference},extra_user_detail:{}}).then((function(t){console.log("res",t),0==t.code?(n.default.remove("projectCardUserList"),e.$miRouter.replaceAll({path:"/pages/index/index"})):uni.$u.toast(t.msg)})).catch((function(e){console.log("err",e)}))}},onLoad:function(){console.log("this.$route.query",this.$Route.query),this.$Route.query.company_id&&(this.formData.company_id=this.$Route.query.company_id),this.$Route.query.person_no&&(this.formData.person_no=this.$Route.query.person_no)}};t.default=i},b569:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r}));var r={uButton:a("15e4").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"perfect-userinfo"},[a("v-uni-view",{staticClass:"card tag-card"},[a("v-uni-view",{staticClass:"md f-w-500"},[e._v("饮食禁忌(可多选)")]),a("v-uni-view",{staticClass:"tag-list"},e._l(e.tabooTags,(function(t,r){return a("v-uni-view",{key:r,staticClass:"tag-item m-t-20",class:t.status?"tag-item-select":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTabooTag(r)}}},[e._v(e._s(t.name))])})),1)],1),a("v-uni-view",{staticClass:"card tag-card"},[a("v-uni-view",{staticClass:"md f-w-500 flex-1"},[e._v("饮食偏好(可多选)")]),a("v-uni-view",{staticClass:"tag-list"},e._l(e.loveTags,(function(t,r){return a("v-uni-view",{key:r,staticClass:"tag-item m-t-20",class:t.status?"tag-item-select":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeLoveTags(r)}}},[e._v(e._s(t.name))])})),1)],1),a("v-uni-view",{staticClass:"m-t-30"},[a("u-button",{attrs:{text:"完成",shape:"circle",color:"linear-gradient(90deg, #A9FED5 0%, #11E69E 0%, #11E69E 0%, #11E6C5 100%, #11E6C5 100%)"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleNext(1)}}}),a("v-uni-view",{staticClass:"text-center m-t-20"},[a("v-uni-text",{staticClass:"muted",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleNext(0)}}},[e._v("跳过")])],1)],1)],1)},o=[]},b7c0c:function(e,t,a){var r=a("12be");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("4f06").default;n("255d121d",r,!0,{sourceMap:!1,shadowMode:!1})},bfcd:function(e,t,a){"use strict";a.r(t);var r=a("b569"),n=a("ec76");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("12f3");var i,s=a("f0c5"),u=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"280aa86c",null,!1,r["a"],i);t["default"]=u.exports},d558:function(e,t,a){"use strict";a("a9e3"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.dateLengthInfo=t.timeFormat=void 0;var r=["日","一","二","三","四","五","六"],n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";e||(e=Number(new Date)),10==e.toString().length&&(e*=1e3);var a,n=new Date(e),o={"y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString(),"h+":n.getHours().toString(),"M+":n.getMinutes().toString(),"s+":n.getSeconds().toString(),"w+":r[n.getDay()]};for(var i in o)a=new RegExp("("+i+")").exec(t),a&&(t=t.replace(a[1],1==a[1].length?o[i]:o[i].padStart(a[1].length,"0")));return t};t.timeFormat=n;var o=function(e,t){for(var a=[],r=e-864e5,o=e+864e5*(t-1),i=r;i<o;)i+=864e5,a.push(n(i,"yyyy-mm-dd"));return a};t.dateLengthInfo=o},ec76:function(e,t,a){"use strict";a.r(t);var r=a("448b"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a}}]);